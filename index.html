<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="style.css" />
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  </head>

  <script>
    window.setTimeout(() => {
      const message = document.querySelector("#messageContainer");
      message.classList.add("visible");

      let foundCoins = 0;
      message.innerHTML = `Find ${2 - foundCoins} more coins to redeem`;

      const scene = document.querySelector("video");

      scene.addEventListener("click", (e) => {

        const icon = document.querySelector("[gps-entity-place]");

        icon.setAttribute("opacity", "0");
        foundCoins += 1;

        const foundCoin = document.querySelector('#coin1');
        foundCoin.src="assets/foundCoin.png";


        message.innerHTML = `Find ${2 - foundCoins} more coins to redeem`;s
      });
    }, 1500);
  </script>

  <body style="margin: 0; overflow: hidden">
    <div id="messageContainer"><p>&nbsp;</p></div>
    <div class="progressBar">
      <img src="assets/unfoundCoin.png" id="coin1" />
      <img src="assets/unfoundCoin.png" id="coin2" />
    </div>
    <a-scene
      embedded
      loading-screen="enabled: false;"
      arjs="sourceType: webcam; debugUIEnabled: false;"
      vr-mode-ui="enabled: false"
    >
      <!-- <a-image
        src="assets/asset.png"
        look-at="[gps-camera]"
        scale="1 1 1"
        gps-entity-place="latitude: 44.93845; longitude: -93.2811;"
        class="image"
      ></a-image>
      <a-image
        src="assets/asset.png"
        look-at="[gps-camera]"
        scale="1 1 1"
        gps-entity-place="latitude: 44.93845; longitude: -93.2811;"
        class="image"
      ></a-image> -->

      <!-- <a-link
        look-at="[gps-camera]"
        title="Test link"
        distance
        gps-entity-place="latitude: 44.93845; longitude: -93.2811;"
      >
      </a-link> -->

      <a-image
        src="assets/asset.png"
        look-at="[gps-camera]"
        scale="10 10 10"
        distance
        gps-entity-place="latitude: 44.93845; longitude: -93.2811;"
      ></a-image>

      <a-camera gps-camera rotation-reader></a-camera>
    </a-scene>
  </body>
</html>
